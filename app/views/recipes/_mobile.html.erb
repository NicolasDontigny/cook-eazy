<div class="mobile-container">
    <div class="mobile-item-b">
        <div class="d-flex flex-column header-container" style="background-image: linear-gradient(rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7)), url(<%= @recipe.photo %>);">
            <div class="d-flex justify-content-between">
              <h2><%= @recipe.name %></h2>
              <% if WishlistItem.where(recipe: @recipe).empty? %>
                <%= link_to wishlist_item_path(@recipe), method: :post, remote: true do %>
                  <i class="far fa-heart mr-3 add-to-wishlist-empty"></i>
                <% end %>
              <% else %>
                <%= link_to wishlist_item_path(@recipe), method: :delete, remote: true do %>
                  <i class="fas fa-heart mr-3 add-to-wishlist"></i>
                <% end %>
              <% end %>
             </div>

                <%= render "star_rating", recipe: @recipe %>

            <div class="header-recipe-details d-flex mt-2">
                <span class="">
                    <strong class="header-text-bigger">Prep Time</strong>
                    <%= @recipe.prep_time %>
                </span>

                <span class="mx-2 line">|</span>

                <span class="">
                    <strong class=" header-text-bigger">Cooking Time</strong>
                    <%= @recipe.cook_time %>
                </span>

                <span class="mx-2 line">|</span>

                <span class="">
                  <strong class="header-text-bigger">Servings</strong>
                  <%= @recipe.servings %>
                </span>
            </div>
            <%# Start Button %>
            <div class="start-cooking-mobile">
                <a class="button button-main-red" id="show-page-button" href="/recipes/<%= @recipe.id %>/steps">Start Cooking</a>
            </div>
        </div>
    </div>


        <%# Ingredient List %>
    <div class="ingredients-start-button">
        <div id="ingredient-title" class="btn btn-outline-success" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">Ingredients</div>
            <div class="mobile-ingredient-list collapse" id="collapseExample">
                <div class="card card-body">
                    <div class="missing-ingredients">
                        <% @recipe.missing_ingredients(current_user).each do |recipe_item| %>
                            <div class="ingredient-red">
                                <i class="far fa-times-circle"></i>
                                <%= recipe_item.ingredient.name.capitalize %>
                                (need <%= recipe_item.how_many_missing %> <%= recipe_item.ingredient.unit_of_measure %>)
                            </div>
                        <% end %>
                    </div>
                    <div class="matched-ingredients">
                        <% @recipe.matching_ingredients(current_user).each do |recipe_item| %>
                            <div class="ingredient-green">
                                <i class="far fa-check-circle"></i>
                                <%= recipe_item.ingredient.name.capitalize %>
                                (<%= recipe_item.quantity %> <%= recipe_item.ingredient.unit_of_measure %>)
                            </div>
                        <% end %>
                    </div><br>
                    <div class="collapsed-grocery-button">
                        <a class="button button-main-green" rel="nofollow" data-method="post" href="/recipes/<%= @recipe.id %>/add-to-grocery">Add to Grocery List</a>
                    </div><br>
                </div>
            </div>
        </div>
    </div>

    <%# Steps %>
    <div class="item-c">
    <% @recipe.steps.each do |step| %>
        <p><%= step.order %> - <%= step.content %></p>
    <% end %>
    </div>

    <%# Reviews %>
    <%= render "components/reviews", recipe: @recipe, form: true, show_page: true %>
</div>

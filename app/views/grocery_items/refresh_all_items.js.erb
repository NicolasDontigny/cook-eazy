var refreshItem = (itemHTML, id) => {
  grocery_item = document.querySelector(`li[data-item-id='${id}']`)
  grocery_item.insertAdjacentHTML("afterend", itemHTML);
  grocery_item.remove();

  // const checkBoxItem = document.querySelector(`a[data='checkbox']`);
  // checkBoxItem.remove();
  // const grocery_list = document.querySelector('.grocery-items__wrapper');
  // grocery_list.insertAdjacentHTML("beforeend", checkBoxHTML);
}


<% @grocery_items.each do |grocery_item| %>
  refreshItem('<%= j render "grocery_item", item: grocery_item %>', <%= grocery_item.id %>, '<%= j render "checkbox", grocery_items: @grocery_items %>' );
<% end %>

var checkBoxItems = document.querySelectorAll(`a[data='checkbox']`);

<% if @grocery_items.all? { |grocery_item| grocery_item.checked == true } %>

  checkBoxItems.forEach(checkBoxItem => {
    checkBoxItem.querySelector('i').classList.add('fa-check-square');
    checkBoxItem.querySelector('i').classList.remove('fa-square');
    }
  );

<% else %>

  checkBoxItems.forEach(checkBoxItem => {
    checkBoxItem.querySelector('i').classList.add('fa-square');
    checkBoxItem.querySelector('i').classList.remove('fa-check-square');
    }
  );

<% end %>


// checkBoxItem.querySelector('i').classList.toggle('fa-check-square');
// checkBoxItem.querySelector('i').classList.toggle('fa-square');



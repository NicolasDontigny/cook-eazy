var refreshForm = (innerHTML) => {
  const newGroceryItemForm = document.getElementById('new_grocery_item');
  newGroceryItemForm.innerHTML = innerHTML;
}

var insertItem = (itemHTML) => {
  const groceryList = document.querySelector('#grocery-items-list');
  groceryList.insertAdjacentHTML("afterbegin",
    itemHTML
  );
}

<% if @grocery_item.errors.any? %>
  refreshForm('<%= j render "form", user: current_user, grocery_item: @grocery_item %>');
<% else %>
  insertItem('<%= j render "grocery_item", item: @grocery_item %>');
  refreshForm('<%= j render "form", user: current_user, grocery_item: GroceryItem.new %>');
<% end %>
